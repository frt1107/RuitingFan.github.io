---
layout: post
title:  "Meta App笔试题目"
date:   2020-07-09 11:30:00 +0800
categories: 算法
tag: 笔面试





---


* content
{:toc}




## 1. 介绍

一共3道题目：都是leetcode的简单题目。

时间任意。

**PS：MetaApp这个公司，是个创业公司。男朋友前阵子和我说过5G将会带来的新的客户端-服务端的模式，以游戏为例，未来的发展趋势就是相当于在手机上就只是游戏画面，所有的计算、存储等都是直接在服务端完成的。这个公司就是这种思想。**

## 2. 题目

（1）一个整型数组 nums 里除1个数字之外，其他数字都出现了两次。请写程序找出这个只出现一次的数字。要求时间复杂度是O(n)，空间复杂度是O(1)。。



（2）股票问题（leetcode 121）：

给定一个数组，它的第 i 个元素是一支给定股票第 i 天的价格。

如果你最多只允许完成一笔交易（即买入和卖出一支股票一次），设计一个算法来计算你所能获取的最大利润。

注意：你不能在买入股票前卖出股票。

示例：

```
example 1:
输入: [7,1,5,3,6,4]
输出: 5
解释: 在第 2 天（股票价格 = 1）的时候买入，在第 5 天（股票价格 = 6）的时候卖出，最大利润 = 6-1 = 5 。
     注意利润不能是 7-1 = 6, 因为卖出价格需要大于买入价格；同时，你不能在买入前卖出股票。

example 2：
输入: [7,6,4,3,1]
输出: 0
解释: 在这种情况下, 没有交易完成, 所以最大利润为 0。
```



（3）镜像二叉树（剑指offer 27）：

请实现一个函数，用来判断一棵二叉树是不是对称的。如果一棵二叉树和它的镜像一样，那么它是对称的。



## 3. 题解

都比较简单，就不写了，而且leetcode都有。

下边俩图是当时写的代码。

![/post_images/2020-07-09-metaApp/img_12.jpg]({{ '/post_images/2020-07-09-metaApp/img_12.jpg' | prepend: site.baseurl  }})

![/post_images/2020-07-09-metaApp/img_3.jpg]({{ '/post_images/2020-07-09-metaApp/img_3.jpg' | prepend: site.baseurl  }})

------

重点是第2题--股票问题，股票问题是个系列，而且在股票问题-III（leetcode 123题）的题解中，有一个基于状态机的通用解法，一招团灭。

解题思路：动态规划。

下边进入正题：

### dp通用解法：

先说dp的通用解法，三方面：

1：dp定义；

2：转移方程；

3：dp初始化。

### 本题解法：

**dp定义：**

`dp[i][k][status]`三维dp：

- i：第i天，也就是数组的i下标的元素；
- k：最多允许交易k次；
- status：buy/sell状态，1表示持有股票，0表示没持有股票。

**状态转移方程：**

这里的dp值仅在发生交易时会发生变化，也就只计算买入和卖出的差价。

1. 第i天没持有股票：

`dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1] + prices[i])`

- 如果上一天没持有股票，那么今天就没有买卖，收益与`dp[i-1][k][0]`相等；
- 如果上一天持有股票，那么今天就卖出了，收益就是`dp[i-1][k][1] + prices[i]`。

2. 第i天持有股票：

`dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0] - prices[i])`

- 如果上一天持有股票，那么今天也没有买卖，收益不变；
- 如果上一天没持有股票，那么今天就买入了，收益要从`dp[i-1][k-1][0]`中减去`prices[i]`。这里因为买入了，最大交易次数k就要减一。

**dp初始化：**

下边的base case是直接复制的原答主的：

```
dp[-1][k][0] = 0
解释：因为 i 是从 0 开始的，所以 i = -1 意味着还没有开始，这时候的利润当然是0。
dp[-1][k][1] = -infinity
解释：还没开始的时候，是不可能持有股票的，用负无穷表示这种不可能。
dp[i][0][0] = 0
解释：因为 k 是从 1 开始的，所以 k = 0 意味着根本不允许交易，这时候利润当然是0。
dp[i][0][1] = -infinity
解释：不允许交易的情况下，是不可能持有股票的，用负无穷表示这种不可能。
```

个人感觉这些base case也就是概念上的，针对具体题目仍需自己理解，并结合题目给出合适的base case定义。



**PS：我就是个搬运工，按照自己的理解重新组织了一下说法。**

感觉这样一套通用解法有好有坏吧，确实套用这样的模板就能秒杀股票系列全部问题，但是感觉对于股票I和股票II这种简单问题的话，如果套用模板反倒是绕了弯路，也可能把自己给绕进去了。到底对症下药还是考虑兼容性呢，这个就因人而异了。

